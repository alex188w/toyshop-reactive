spring:
  security:
    oauth2:
      resourceserver:
        jwt:
          issuer-uri: http://localhost:8080/realms/toyshop
      client:
        registration:
          keycloak:
            client-id: storefront
            client-secret: <your_client_secret>
            authorization-grant-type: authorization_code
            redirect-uri: "{baseUrl}/login/oauth2/code/{registrationId}"
            scope: openid, profile, email

          payment-client:
            client-id: payment-service
            client-secret: <your_client_secret_service>
            authorization-grant-type: client_credentials
            scope: payments.read,payments.write
            provider: keycloak

          user-admin-client:
            client-id: user-admin-client
            client-secret: <your_client_secret_client>
            authorization-grant-type: client_credentials
            scope: manage-users,view-users
            provider: keycloak

        provider:
          keycloak:
            issuer-uri: http://localhost:8080/realms/toyshop
            token-uri: http://localhost:8080/realms/toyshop/protocol/openid-connect/token

  webflux:
    static-path-pattern: "/uploads/**"

  application:
    name: toyshop

  sql:
    init:
      mode: never

  data:
    r2dbc:
      repositories:
        enabled: true
    redis:
      database: 0

server:
  port: 8085

keycloak:
  admin-url: http://localhost:8080
  admin-client-id: user-admin-client
  admin-client-secret: <your_client_secret_admin>

# logging:
#   level:
#     org.springframework.security: DEBUG
#     org.springframework.security.oauth2: DEBUG
#     org.springframework.web: INFO